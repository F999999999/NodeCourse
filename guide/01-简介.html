<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>1.简介 | Node技术文档</title><meta name="description" content="Node分享的相关及文档">
    <link rel="preload" href="/NodeCourse/assets/js/runtime~app.1a58d366.js" as="script"><link rel="preload" href="/NodeCourse/assets/css/styles.5e45f454.css" as="style"><link rel="preload" href="/NodeCourse/assets/js/812.aaae078a.js" as="script"><link rel="preload" href="/NodeCourse/assets/js/app.32321f53.js" as="script">
    <link rel="stylesheet" href="/NodeCourse/assets/css/styles.5e45f454.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/NodeCourse/" class=""><img class="logo" src="https://avatars.githubusercontent.com/u/57422303?s=200&amp;v=4" alt="Node技术文档"><span class="site-name can-hide">Node技术文档</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="切换夜间模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">Koa框架</p><ul class=""><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="1.简介"><!--[--><!--]--> 1.简介 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-1-koa介绍" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.1 Koa介绍"><!--[--><!--]--> 1.1 Koa介绍 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-2-准备" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.2 准备"><!--[--><!--]--> 1.2 准备 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-3-koa的简单使用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.3 Koa的简单使用"><!--[--><!--]--> 1.3 Koa的简单使用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-4-在koa中返回响应" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.4 在Koa中返回响应"><!--[--><!--]--> 1.4 在Koa中返回响应 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-5-上下文-请求和响应" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.5 上下文, 请求和响应"><!--[--><!--]--> 1.5 上下文, 请求和响应 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-6-koa和express的区别" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.6 Koa和Express的区别"><!--[--><!--]--> 1.6 Koa和Express的区别 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-6-1-理念不同" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.6.1 理念不同"><!--[--><!--]--> 1.6.1 理念不同 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/NodeCourse/guide/01-%E7%AE%80%E4%BB%8B.html#_1-6-2-具体功能不同" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.6.2 具体功能不同"><!--[--><!--]--> 1.6.2 具体功能不同 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/NodeCourse/guide/02-%E8%B7%AF%E7%94%B1.html" class="nav-link sidebar-item" aria-label="2.路由"><!--[--><!--]--> 2.路由 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/NodeCourse/guide/03-%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96.html" class="nav-link sidebar-item" aria-label="3.请求数据获取"><!--[--><!--]--> 3.请求数据获取 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/NodeCourse/guide/04-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD.html" class="nav-link sidebar-item" aria-label="4.静态资源加载"><!--[--><!--]--> 4.静态资源加载 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/NodeCourse/guide/05-%E8%B7%A8%E5%9F%9F%E4%B8%AD%E9%97%B4%E4%BB%B6.html" class="nav-link sidebar-item" aria-label="5.cors跨域"><!--[--><!--]--> 5.cors跨域 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/NodeCourse/guide/06-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C.html" class="nav-link sidebar-item" aria-label="6.数据库操场"><!--[--><!--]--> 6.数据库操场 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1.简介</h1><h2 id="_1-1-koa介绍" tabindex="-1"><a class="header-anchor" href="#_1-1-koa介绍" aria-hidden="true">#</a> 1.1 Koa介绍</h2><ul><li>koa 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。</li><li>使用 koa 编写 web 应用，可以免除重复繁琐的回调函数嵌套， 并极大地提升错误处理的效率。</li><li>koa 不在内核方法中绑定任何中间件，它的特点是优雅、简洁、表达力强、自由度高。</li><li>本身代码只有1000多行，它仅仅提供了一个轻量优雅的 函数库，</li><li>所有功能都通过插件实现，很符合 Unix 哲学。 使得编写 Web 应用变得得心应手。</li><li>开发思路和 express 差不多，最大的特点就是 可以避免异步嵌套。</li></ul><h2 id="_1-2-准备" tabindex="-1"><a class="header-anchor" href="#_1-2-准备" aria-hidden="true">#</a> 1.2 准备</h2><p>Koa2 的安装与使用对 Node.js 的版本也是有要求的，Node.js 是有要求的，它要求 Node.js 版本高于 V7.6。 因为 node.js 7.6 版本 开始完全支持 async/await，所以才能完全支持 Koa2。</p><h2 id="_1-3-koa的简单使用" tabindex="-1"><a class="header-anchor" href="#_1-3-koa的简单使用" aria-hidden="true">#</a> 1.3 Koa的简单使用</h2><ol><li>在<code>code/01-basic</code>文件夹下,打开命令行窗口,初始化项目，创建package.json，输入以下命令:</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> init -y
</code></pre></div><ol start="2"><li>在第一步的基础上，继续下载 koa框架， 输入以下命令:</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> i koa
</code></pre></div><ol start="3"><li>在<code>code/01-basic</code>文件夹下，创建一个js文件，在js文件中，编写如下代码:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 导入 Koa 包</span>
<span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;koa&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 使用 new 调用 koa() 构造函数，来创建应用程序</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. 监听 指定的 3000 端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="4"><li>在<code>code/01-basic</code>文件夹下，打开命令行窗口，输入以下命令</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code> node app.js
</code></pre></div><ol start="5"><li>打开浏览器，访问<code>http://localhost:3000</code>。你会看到如下图所示效果:</li></ol><p><img src="data:image/png;base64,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" alt="image-20211007170733121"></p><p>上图表示 该服务没有发现任何内容。这是因为我们并没有告诉Koa应该显示什么内容</p><h2 id="_1-4-在koa中返回响应" tabindex="-1"><a class="header-anchor" href="#_1-4-在koa中返回响应" aria-hidden="true">#</a> 1.4 在Koa中返回响应</h2><ol><li>在<code>code/02-basic</code>文件夹下,打开命令行窗口,初始化项目，创建package.json，输入以下命令:</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> init -y
</code></pre></div><ol start="2"><li>在第一步的基础上，继续下载 koa框架， 输入以下命令:</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> i koa
</code></pre></div><ol start="3"><li>在<code>code/02-basic</code>文件夹下，创建一个js文件，在js文件中，编写如下代码:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 导入 Koa 包</span>
<span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;koa&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 使用 new 调用 koa() 构造函数，来创建应用程序</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3.使用app来调用use中间件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token parameter">ctx</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// 响应给浏览器 一个字符串 &quot;Hello World!!!&quot;</span>
  ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&quot;Hello World!!!&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 4. 监听 指定的 3000 端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;服务运行在 http://localhost:3000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="4"><li>在<code>code/02-basic</code>文件夹下，打开命令行窗口，输入以下命令</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code> node app.js
</code></pre></div><ol start="5"><li>打开浏览器，访问<code>http://localhost:3000</code>。你会看到如下图所示效果：</li></ol><p><img src="data:image/png;base64,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" alt="image-20211007182519831"></p><p>上图表示 该服务给浏览器返回一个字符串&quot;Hello World!!!&quot;。</p><h2 id="_1-5-上下文-请求和响应" tabindex="-1"><a class="header-anchor" href="#_1-5-上下文-请求和响应" aria-hidden="true">#</a> 1.5 上下文, 请求和响应</h2><p>每个中间件都接收一个 Koa 的 <a href="https://koa.bootcss.com/#context" target="_blank" rel="noopener noreferrer">Context 对象<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口打开</span><!--]--></span></a>，该对象封装了一个传入的 http 消息，并对该消息进行了相应的响应。 ctx 通常用作上下文对象的参数名称。</p><p>ctx是context的缩写中文一般叫成上下文，这个在所有语言里都有的名词，可以理解为上(request)下(response)沟通的环境，所以koa中把他们两都封装进了ctx对象</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>request <span class="token comment">//koa 的 Request 对象.</span>
  ctx<span class="token punctuation">.</span>response <span class="token comment">//koa 的 Response 对象.</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_1-6-koa和express的区别" tabindex="-1"><a class="header-anchor" href="#_1-6-koa和express的区别" aria-hidden="true">#</a> 1.6 Koa和Express的区别</h2><h3 id="_1-6-1-理念不同" tabindex="-1"><a class="header-anchor" href="#_1-6-1-理念不同" aria-hidden="true">#</a> 1.6.1 理念不同</h3><p>在理念上，Koa 旨在 “修复和替换节点”，而 Express 旨在 “增加节点”。 Koa 使用Promise(JavaScript一种异步手段)和异步功能来摆脱回调地狱的应用程序，并简化错误处理。 它暴露了自己的 ctx.request 和 ctx.response 对象，而不是 node 的 req 和 res 对象。</p><p>另一方面，Express 通过附加的属性和方法增加了 node 的 req 和 res 对象，并且包含许多其他 “框架” 功能，如路由和模板，而 Koa 则没有。 因此，Koa 可被视为 node.js 的 http 模块的抽象，其中 Express 是 node.js 的应用程序框架。</p><p>因此，如果您想要更接近 node.js 和传统的 node.js 样式编码，那么您可能希望坚持使用Connect/Express 或类似的框架。 如果你想摆脱回调，请使用 Koa。</p><p>由于这种不同的理念，其结果是传统的 node.js “中间件”（即“（req，res，next）”的函数）与Koa不兼容。 你的应用基本上要重新改写了。</p><h3 id="_1-6-2-具体功能不同" tabindex="-1"><a class="header-anchor" href="#_1-6-2-具体功能不同" aria-hidden="true">#</a> 1.6.2 具体功能不同</h3><ul><li>没有回调地狱。</li><li>通过 try/catch 更好的处理错误。</li><li>不同于 Express, 不提供路由.</li><li>不同于 Express, 不提供许多便捷设施。 例如，发送文件.</li><li>Koa 对中间件的依赖较少</li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><span class="meta-item-info">10/8/2021, 11:21:33 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 295386487@qq.com">YeungWanLum</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/NodeCourse/guide/02-%E8%B7%AF%E7%94%B1.html" class="nav-link" aria-label="2.路由"><!--[--><!--]--> 2.路由 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/NodeCourse/assets/js/runtime~app.1a58d366.js" defer></script><script src="/NodeCourse/assets/js/812.aaae078a.js" defer></script><script src="/NodeCourse/assets/js/app.32321f53.js" defer></script>
  </body>
</html>
